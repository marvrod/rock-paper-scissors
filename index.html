<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>
        Rock, paper, scissors
    </title>

</head>
<body>
    <h1 style="text-align: center;">Rock, paper, scissors! Everyone's favorite 
        game. <br>Choose your answer carefully:</h1>
    <br>
    <div id = "container" style = "text-align: center;">
    <button id = "rock">Rock</button>
    <button id = "paper">Paper</button>
    <button id = "scissors">Scissors</button><br>
    </div><br>
    <script>

        function computerPlay() {
            
            let number = Math.floor(Math.random()*3);

            if (number == 0) {
                return "Rock"
            }
            else if (number == 1) {
                return "Paper"
            }
            else {
                return "Scissors"
            }

        }



        let playerWins = 0;
        let computerWins = 0;
        const congrats = document.createElement("p");

        function playRound(playerSelection, computerSelection) {
            
            // p is the player's input, c is the computer's.
            let p = playerSelection.toUpperCase();
            let c = computerSelection.toUpperCase();


            if (p == "ROCK" && c == "ROCK") {
                gameResults.textContent = `Tie! Both chose Rock. Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "ROCK" && c == "PAPER") {
                computerWins++;
                gameResults.textContent =`You lose! Paper beats Rock! Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "ROCK" && c == "SCISSORS") {
                playerWins++;
                gameResults.textContent = `You win! Rock beats Scissors! Computer
                has ${computerWins} points and you have ${playerWins}.`
            }
            else if (p == "PAPER" && c == "ROCK") {
                playerWins++;
                gameResults.textContent = `You win! Paper beats Rock! Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "PAPER" && c == "PAPER") {
                gameResults.textContent = `Tie! Both chose Paper. Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "PAPER" && c == "SCISSORS") {
                computerWins++;
                gameResults.textContent = `You lose! Scissors beat Paper! Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "SCISSORS" && c == "ROCK") {
                computerWins++;
                gameResults.textContent = `You lose! Rock beats Scissors! Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "SCISSORS" && c == "PAPER") {
                playerWins++;
                gameResults.textContent = `You win! Scissors beat Paper! Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else if (p == "SCISSORS" && c == "SCISSORS") {
                gameResults.textContent = `Tie! Both chose Scissors. Computer
                has ${computerWins} points and you have ${playerWins}.`;
            }
            else {
                gameResults.textContent = "Please enter a valid input (Rock, Paper, Scissors)";
            }
        
            if (computerWins == 5 && playerWins < 5) {
                congrats.textContent = "Computer wins! LOL";
                container.appendChild(congrats);
            }

            else if (playerWins == 5 && computerWins < 5) {
                congrats.textContent = "You win! Congratulations!";
                container.appendChild(congrats);
            }

        
            }

    // Functions for execution

    let playerPlay2 = "";
    function rockPlease() {
        playerPlay2 = "Rock";
        playRound(playerPlay2, computerPlay());
    }

    function scissorsPlease() {
        playerPlay2 = "Scissors";
        playRound(playerPlay2, computerPlay());
    }

    function paperPlease() {
        playerPlay2 = "Paper";
        playRound(playerPlay2, computerPlay());
    }

    // Variables for event listening
    const container = document.querySelector("#container");
    const rock = document.querySelector("#rock");
    const scissors = document.querySelector("#scissors");
    const paper = document.querySelector("#paper");

    // Event listening and execution
    rock.addEventListener('click', rockPlease);
    scissors.addEventListener('click', scissorsPlease);
    paper.addEventListener('click', paperPlease);

    // Div for showing results
    const gameResults = document.createElement("div");
    container.appendChild(gameResults);
    gameResults.style.padding="40px";
    gameResults.style.textAling="center";

    </script>
</body>
</html>